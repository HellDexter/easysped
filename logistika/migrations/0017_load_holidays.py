from datetime import date

from django.db import migrations


def load_holidays(apps, schema_editor):
    Holiday = apps.get_model('logistika', 'Holiday')
    holiday_data = [
        ('2025-01-01', 'Nový rok / Den obnovy samostatného českého státu', 'CZ', None),
        ('2025-04-18', 'Velký pátek', 'CZ', None),
        ('2025-04-21', 'Velikonoční pondělí', 'CZ', None),
        ('2025-05-01', 'Svátek práce', 'CZ', None),
        ('2025-05-08', 'Den vítězství', 'CZ', None),
        ('2025-07-05', 'Den slovanských věrozvěstů Cyrila a Metoděje', 'CZ', None),
        ('2025-07-06', 'Den upálení mistra Jana Husa', 'CZ', None),
        ('2025-09-28', 'Den české státnosti', 'CZ', None),
        ('2025-10-28', 'Den vzniku samostatného československého státu', 'CZ', None),
        ('2025-11-17', 'Den boje za svobodu a demokracii', 'CZ', None),
        ('2025-12-24', 'Štědrý den', 'CZ', None),
        ('2025-12-25', '1. svátek vánoční', 'CZ', None),
        ('2025-12-26', '2. svátek vánoční', 'CZ', None),
        ('2026-01-01', 'Nový rok / Den obnovy samostatného českého státu', 'CZ', None),
        ('2026-04-03', 'Velký pátek', 'CZ', None),
        ('2026-04-06', 'Velikonoční pondělí', 'CZ', None),
        ('2026-05-01', 'Svátek práce', 'CZ', None),
        ('2026-05-08', 'Den vítězství', 'CZ', None),
        ('2026-07-05', 'Den slovanských věrozvěstů Cyrila a Metoděje', 'CZ', None),
        ('2026-07-06', 'Den upálení mistra Jana Husa', 'CZ', None),
        ('2026-09-28', 'Den české státnosti', 'CZ', None),
        ('2026-10-28', 'Den vzniku samostatného československého státu', 'CZ', None),
        ('2026-11-17', 'Den boje za svobodu a demokracii', 'CZ', None),
        ('2026-12-24', 'Štědrý den', 'CZ', None),
        ('2026-12-25', '1. svátek vánoční', 'CZ', None),
        ('2026-12-26', '2. svátek vánoční', 'CZ', None),
        ('2025-01-01', 'Nový rok', 'DE', None),
        ('2025-01-06', 'Tři králové', 'DE', 'BW,BY,ST'),
        ('2025-03-08', 'Mezinárodní den žen', 'DE', 'BE,MV'),
        ('2025-04-18', 'Velký pátek', 'DE', None),
        ('2025-04-21', 'Velikonoční pondělí', 'DE', None),
        ('2025-05-01', 'Svátek práce', 'DE', None),
        ('2025-05-29', 'Nanebevstoupení Páně', 'DE', None),
        ('2025-06-09', 'Svatodušní pondělí', 'DE', None),
        ('2025-06-19', 'Boží Tělo', 'DE', 'BW,BY,HE,NW,RP,SL,SN,TH'),
        ('2025-08-15', 'Nanebevzetí Panny Marie', 'DE', 'BY,SL'),
        ('2025-09-20', 'Světový den dětí', 'DE', 'TH'),
        ('2025-10-03', 'Den německé jednoty', 'DE', None),
        ('2025-10-31', 'Den reformace', 'DE', 'BB,HB,HH,MV,NI,SH,SN,ST,TH'),
        ('2025-11-01', 'Svátek Všech svatých', 'DE', 'BW,BY,NW,RP,SL'),
        ('2025-11-19', 'Den pokání a modliteb', 'DE', 'SN'),
        ('2025-12-25', '1. svátek vánoční', 'DE', None),
        ('2025-12-26', '2. svátek vánoční', 'DE', None),
        ('2026-01-01', 'Nový rok', 'DE', None),
        ('2026-01-06', 'Tři králové', 'DE', 'BW,BY,ST'),
        ('2026-03-08', 'Mezinárodní den žen', 'DE', 'BE,MV'),
        ('2026-04-03', 'Velký pátek', 'DE', None),
        ('2026-04-06', 'Velikonoční pondělí', 'DE', None),
        ('2026-05-01', 'Svátek práce', 'DE', None),
        ('2026-05-14', 'Nanebevstoupení Páně', 'DE', None),
        ('2026-05-25', 'Svatodušní pondělí', 'DE', None),
        ('2026-06-04', 'Boží Tělo', 'DE', 'BW,BY,HE,NW,RP,SL,SN,TH'),
        ('2026-08-15', 'Nanebevzetí Panny Marie', 'DE', 'BY,SL'),
        ('2026-09-20', 'Světový den dětí', 'DE', 'TH'),
        ('2026-10-03', 'Den německé jednoty', 'DE', None),
        ('2026-10-31', 'Den reformace', 'DE', 'BB,HB,HH,MV,NI,SH,SN,ST,TH'),
        ('2026-11-01', 'Svátek Všech svatých', 'DE', 'BW,BY,NW,RP,SL'),
        ('2026-11-18', 'Den pokání a modliteb', 'DE', 'SN'),
        ('2026-12-25', '1. svátek vánoční', 'DE', None),
        ('2026-12-26', '2. svátek vánoční', 'DE', None),
        ('2025-01-01', 'Nový rok', 'AT', None),
        ('2025-01-06', 'Tři králové', 'AT', None),
        ('2025-04-21', 'Velikonoční pondělí', 'AT', None),
        ('2025-05-01', 'Svátek práce', 'AT', None),
        ('2025-05-29', 'Nanebevstoupení Páně', 'AT', None),
        ('2025-06-09', 'Svatodušní pondělí', 'AT', None),
        ('2025-06-19', 'Boží Tělo', 'AT', None),
        ('2025-08-15', 'Nanebevzetí Panny Marie', 'AT', None),
        ('2025-10-26', 'Státní svátek', 'AT', None),
        ('2025-11-01', 'Svátek Všech svatých', 'AT', None),
        ('2025-12-08', 'Neposkvrněné početí Panny Marie', 'AT', None),
        ('2025-12-25', '1. svátek vánoční', 'AT', None),
        ('2025-12-26', '2. svátek vánoční (Den sv. Štěpána)', 'AT', None),
        ('2026-01-01', 'Nový rok', 'AT', None),
        ('2026-01-06', 'Tři králové', 'AT', None),
        ('2026-04-06', 'Velikonoční pondělí', 'AT', None),
        ('2026-05-01', 'Svátek práce', 'AT', None),
        ('2026-05-14', 'Nanebevstoupení Páně', 'AT', None),
        ('2026-05-25', 'Svatodušní pondělí', 'AT', None),
        ('2026-06-04', 'Boží Tělo', 'AT', None),
        ('2026-08-15', 'Nanebevzetí Panny Marie', 'AT', None),
        ('2026-10-26', 'Státní svátek', 'AT', None),
        ('2026-11-01', 'Svátek Všech svatých', 'AT', None),
        ('2026-12-08', 'Neposkvrněné početí Panny Marie', 'AT', None),
        ('2026-12-25', '1. svátek vánoční', 'AT', None),
        ('2026-12-26', '2. svátek vánoční (Den sv. Štěpána)', 'AT', None),
        ('2025-01-01', 'Nový rok', 'CH', None),
        ('2025-04-18', 'Velký pátek', 'CH', None),
        ('2025-05-29', 'Nanebevstoupení Páně', 'CH', None),
        ('2025-08-01', 'Státní svátek', 'CH', None),
        ('2025-12-25', '1. svátek vánoční', 'CH', None),
        ('2026-01-01', 'Nový rok', 'CH', None),
        ('2026-04-03', 'Velký pátek', 'CH', None),
        ('2026-05-14', 'Nanebevstoupení Páně', 'CH', None),
        ('2026-08-01', 'Státní svátek', 'CH', None),
        ('2026-12-25', '1. svátek vánoční', 'CH', None),
        ('2025-01-01', 'Nový rok', 'PL', None),
        ('2025-01-06', 'Tři králové', 'PL', None),
        ('2025-04-20', 'Velikonoční neděle', 'PL', None),
        ('2025-04-21', 'Velikonoční pondělí', 'PL', None),
        ('2025-05-01', 'Svátek práce', 'PL', None),
        ('2025-05-03', 'Den ústavy', 'PL', None),
        ('2025-06-08', 'Svatodušní neděle', 'PL', None),
        ('2025-06-19', 'Boží Tělo', 'PL', None),
        ('2025-08-15', 'Nanebevzetí Panny Marie, Den polské armády', 'PL', None),
        ('2025-11-01', 'Svátek Všech svatých', 'PL', None),
        ('2025-11-11', 'Den nezávislosti', 'PL', None),
        ('2025-12-25', '1. svátek vánoční', 'PL', None),
        ('2025-12-26', '2. svátek vánoční', 'PL', None),
        ('2026-01-01', 'Nový rok', 'PL', None),
        ('2026-01-06', 'Tři králové', 'PL', None),
        ('2026-04-05', 'Velikonoční neděle', 'PL', None),
        ('2026-04-06', 'Velikonoční pondělí', 'PL', None),
        ('2026-05-01', 'Svátek práce', 'PL', None),
        ('2026-05-03', 'Den ústavy', 'PL', None),
        ('2026-05-24', 'Svatodušní neděle', 'PL', None),
        ('2026-06-04', 'Boží Tělo', 'PL', None),
        ('2026-08-15', 'Nanebevzetí Panny Marie, Den polské armády', 'PL', None),
        ('2026-11-01', 'Svátek Všech svatých', 'PL', None),
        ('2026-11-11', 'Den nezávislosti', 'PL', None),
        ('2026-12-25', '1. svátek vánoční', 'PL', None),
        ('2026-12-26', '2. svátek vánoční', 'PL', None),
        ('2025-01-01', 'Den vzniku Slovenské republiky', 'SK', None),
        ('2025-01-06', 'Zjevení Páně (Tři králové)', 'SK', None),
        ('2025-04-18', 'Velký pátek', 'SK', None),
        ('2025-04-21', 'Velikonoční pondělí', 'SK', None),
        ('2025-05-01', 'Svátek práce', 'SK', None),
        ('2025-05-08', 'Den vítězství nad fašismem', 'SK', None),
        ('2025-07-05', 'Svátek svatého Cyrila a Metoděje', 'SK', None),
        ('2025-08-29', 'Výročí Slovenského národního povstání', 'SK', None),
        ('2025-09-01', 'Den Ústavy Slovenské republiky', 'SK', None),
        ('2025-09-15', 'Sedmibolestná Panna Maria', 'SK', None),
        ('2025-11-01', 'Svátek Všech svatých', 'SK', None),
        ('2025-11-17', 'Den boje za svobodu a demokracii', 'SK', None),
        ('2025-12-24', 'Štědrý den', 'SK', None),
        ('2025-12-25', '1. svátek vánoční', 'SK', None),
        ('2025-12-26', '2. svátek vánoční', 'SK', None),
        ('2026-01-01', 'Den vzniku Slovenské republiky', 'SK', None),
        ('2026-01-06', 'Zjevení Páně (Tři králové)', 'SK', None),
        ('2026-04-03', 'Velký pátek', 'SK', None),
        ('2026-04-06', 'Velikonoční pondělí', 'SK', None),
        ('2026-05-01', 'Svátek práce', 'SK', None),
        ('2026-05-08', 'Den vítězství nad fašismem', 'SK', None),
        ('2026-07-05', 'Svátek svatého Cyrila a Metoděje', 'SK', None),
        ('2026-08-29', 'Výročí Slovenského národního povstání', 'SK', None),
        ('2026-09-01', 'Den Ústavy Slovenské republiky', 'SK', None),
        ('2026-09-15', 'Sedmibolestná Panna Maria', 'SK', None),
        ('2026-11-01', 'Svátek Všech svatých', 'SK', None),
        ('2026-11-17', 'Den boje za svobodu a demokracii', 'SK', None),
        ('2026-12-24', 'Štědrý den', 'SK', None),
        ('2026-12-25', '1. svátek vánoční', 'SK', None),
        ('2026-12-26', '2. svátek vánoční', 'SK', None),
    ]

    objects = [
        Holiday(
            date=date.fromisoformat(h_date),
            name=name,
            country_code=country,
            regions=regions or ''
        )
        for h_date, name, country, regions in holiday_data
    ]
    Holiday.objects.bulk_create(objects, ignore_conflicts=True)


def unload_holidays(apps, schema_editor):
    Holiday = apps.get_model('logistika', 'Holiday')
    Holiday.objects.all().delete()


class Migration(migrations.Migration):

    dependencies = [
        ('logistika', '0016_holiday'),
    ]

    operations = [
        migrations.RunPython(load_holidays, unload_holidays),
    ]
